### 第14章 哈希

#### 14.1 什么是哈希？

哈希是一种以尽可能快的方式存储和检索数据的技巧。它可以用于实现最优搜索和实现符号表。

#### 14.2 为什么使用哈希？

在Tree那一章中，我们学习到平衡二叉搜索树支持以O(log n)的时间复杂度，insert、删除和搜索数据操作。在实际应用中，哈希提供了O(1)时间复杂度操作数据的可能（如果我们需要的话）。记住，哈希在最坏情况下操作数据的时间复杂度仍是O(log n)，但是它可以提供平均O(1)的时间复杂度。

#### 14.3  哈希表抽象数据类型

哈希表的通用操作如下：

- 创建哈希表
  - 创建一个新的哈希表
- 哈希查找
  - 查找哈希表中的某个key值
- 哈希插入
  - 向哈希表中插入一个新的key
- 哈希删除
  - 从哈希表中删除某个key
- 删除哈希表
  - 删除整个哈希表

#### 14.4 理解哈希表

简单来说，我们可以将数组看作一个哈希表。下面让我们看一个例子（这可以帮助我们理解哈希表的使用）：如果一个字符数组中含有重复字符，请给出一个算法，打印出第一个重复的字符。我们可以先思考一下可能的解决方案，然后再继续阅读。其中一种简单粗暴的方式是：给定一个字符串，对其中的每一个字符检查是否存在重复字符。这种方法的时间复杂度是$O(n^2)$，空间复杂度是$O(1)$。

现在，我们来寻找这个问题一种更好的解决方法。我们的目标是找到第一个重复的字符，如果我们可以在数组中记录之前的字符出现的次数是不是一个好方法呢？

以ASCII码字符为例，我们知道其可能的字符数为255。我们可以创建一个大小为255的数组，并且将其值均初始化为0。每个字符的ASCII值对应该数组的index，每输入一个字符，对应index的数组值加1。因为我们使用的是数组，所以我们可以在常量时间访问其中的任何index对应的数值。当我们在扫描输入字符的时候，如果发现该字符对应的计数值已经是1，这时，我们就可以判定这个字符就是我们要寻找的第一个出现重复的字符。

```java
public class Demo_001_FirstRepeatedCharDemo {
    public static void main(String[] args) {
        char[] str = {'a', 'b', 'a', 'd', 'd', 'a'};
        getFirstRepeatedChar(str);
    }

    private static char getFirstRepeatedChar(char[] str) {
        int[] charCount = new int[256];
        for (char c : str) {
            if (1 == charCount[c]) {
                System.out.println("'" + c + "' is the first repeated char...");

                return c;
            }
            charCount[c] = charCount[c] + 1;
        }

        System.out.println("there is no repeated char...");

        return 0;
    }
}

```











